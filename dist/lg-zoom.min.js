/**!
 * lg-zoom.js | 1.0.1 | April 3rd 2018
 * http://sachinchoolur.github.io/lg-zoom.js
 * Copyright (c) 2016 Sachin N; 
 * @license GPLv3 
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.LgZoom=e()}}(function(){var e,t,o;return function(){function e(t,o,r){function i(s,n){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!n&&a)return a(s,!0);if(l)return l(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){return i(t[s][1][e]||e)},c,c.exports,e,t,o,r)}return o[s].exports}for(var l="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(t,o,r){!function(t,o){if("function"==typeof e&&e.amd)e([],o);else if(void 0!==r)o();else{var i={exports:{}};o(),t.lgZoom=i.exports}}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},t=function e(){var t=!1,o=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return o&&parseInt(o[2],10)<54&&(t=!0),t},o={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:t()},r=function t(r){
// Store the zoomable timeout value just to clear it while closing
// Set the initial value center
return this.el=r,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=e({},o,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=window.innerWidth,this.pageY=window.innerHeight+(document.documentElement.scrollTop||document.body.scrollTop)),this.currentX=0,this.currentY=0,this};r.prototype.init=function(){var e=this,t='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';e.core.s.actualSize&&(t+='<span id="lg-actual-size" class="lg-icon"></span>'),e.core.s.useLeftForZoom?utils.addClass(e.core.outer,"lg-use-left-for-zoom"):utils.addClass(e.core.outer,"lg-use-transition-for-zoom"),this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",t),
// Add zoomable class
utils.on(e.core.el,"onSlideItemLoad.lgtmzoom",function(t){
// delay will be 0 except first time
var o=e.core.s.enableZoomAfter+t.detail.delay;
// set _speed value 0 if gallery opened from direct url and if it is first slide
utils.hasClass(document.body,"lg-from-hash")&&t.detail.delay?
// will execute only once
o=0:
// Remove lg-from-hash to enable starting animation.
utils.removeClass(document.body,"lg-from-hash"),e.zoomabletimeout=setTimeout(function(){utils.addClass(e.core.___slide[t.detail.index],"lg-zoomable")},o+30)});var o=1,r=function t(r){var i=e.core.outer.querySelector(".lg-current .lg-image");
// Set this each zoom, because changing slides wipes out the style of the element
// So we'd lose it if we set it only when the slide is first loaded
i.style["transform-origin"]="50%";var l=i.parentElement,s=parseInt(l.getAttribute("data-x"),10)||0,n=parseInt(l.getAttribute("data-y"),10)||0,a=i.getBoundingClientRect().width,u=i.getBoundingClientRect().height,c=parseInt(i.getAttribute("data-scale"),10);utils.setVendor(i,"Transform","scale3d("+r+", "+r+", 1)"),i.setAttribute("data-scale",r);var d=a+(c>o?-i.offsetWidth:i.offsetWidth),g=u+(c>o?-i.offsetHeight:i.offsetHeight),m=s/a*100,f=d/100*m||0,h=n/u*100,p=g/100*h||0;Math.abs(f)>d/2&&(f=(f<0?-d:d)/2),Math.abs(p)>g/2&&(p=(p<0?-g:g)/2),e.core.s.useLeftForZoom?(l.style.left=f+"px",l.style.top=p+"px"):utils.setVendor(l,"Transform","translate3d("+f+"px, "+p+"px, 0)"),l.setAttribute("data-x",f),l.setAttribute("data-y",p)},i=function t(){o>1?utils.addClass(e.core.outer,"lg-zoomed"):e.resetZoom(),o<1&&(o=1),r(o)},l=function t(r,l,s,n){var a=l.clientWidth,u;u=e.core.s.dynamic?e.core.s.dynamicEl[s].width||l.naturalWidth||a:e.core.items[s].getAttribute("data-width")||l.naturalWidth||a;var c;utils.hasClass(e.core.outer,"lg-zoomed")?o=1:u>a&&(c=u/a,o=c||2),n?(e.pageX=window.innerWidth,e.pageY=window.innerHeight+(document.documentElement.scrollTop||document.body.scrollTop)):(e.pageX=r.pageX||r.targetTouches[0].pageX,e.pageY=r.pageY||r.targetTouches[0].pageY),i(),setTimeout(function(){utils.removeClass(e.core.outer,"lg-grabbing"),utils.addClass(e.core.outer,"lg-grab")},10)},s=!1;
// event triggered after appending slide content
utils.on(e.core.el,"onAferAppendSlide.lgtmzoom",function(t){var o=t.detail.index,r=e.core.___slide[o].querySelector(".lg-image");e.core.isTouch||utils.on(r,"dblclick",function(e){l(e,r,o)}),e.core.isTouch&&utils.on(r,"touchstart",function(e){s?(clearTimeout(s),s=null,l(e,r,o)):s=setTimeout(function(){s=null},300),e.preventDefault()})}),
// Update zoom on resize and orientationchange
utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){e.pageX=window.innerWidth,e.pageY=window.innerHeight+(document.documentElement.scrollTop||document.body.scrollTop),r(o)}),utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){e.core.outer.querySelector(".lg-current .lg-image")&&(o-=e.core.s.scale,i())}),utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){e.core.outer.querySelector(".lg-current .lg-image")&&(o+=e.core.s.scale,i())}),utils.on(document.getElementById("lg-actual-size"),"click.lg",function(t){l(t,e.core.___slide[e.core.index].querySelector(".lg-image"),e.core.index,!0)}),
// Reset zoom on slide change
utils.on(e.core.el,"onBeforeSlide.lgtm",function(){o=1,e.resetZoom()}),
// Drag option after zoom
e.core.isTouch||e.zoomDrag(),e.core.isTouch&&e.zoomSwipe()},
// Reset zoom effect
r.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var e=0;e<this.core.___slide.length;e++)this.core.___slide[e].querySelector(".lg-img-wrap")&&(this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("style"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-x"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-y"));for(var t=0;t<this.core.___slide.length;t++)this.core.___slide[t].querySelector(".lg-image")&&(this.core.___slide[t].querySelector(".lg-image").removeAttribute("style"),this.core.___slide[t].querySelector(".lg-image").removeAttribute("data-scale"));
// Reset pageX pageY values to center
this.pageX=window.innerWidth,this.pageY=window.innerHeight+(document.documentElement.scrollTop||document.body.scrollTop)},r.prototype.zoomSwipe=function(){for(var e=this,t={},o={},r=!1,i=!1,l=!1,s=0;s<e.core.___slide.length;s++)/*jshint loopfunc: true */
utils.on(e.core.___slide[s],"touchstart.lg",function(o){if(utils.hasClass(e.core.outer,"lg-zoomed")){var r=e.core.___slide[e.core.index].querySelector(".lg-object");l=r.offsetHeight*r.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientHeight,i=r.offsetWidth*r.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientWidth,(i||l)&&(o.preventDefault(),t={x:o.targetTouches[0].pageX,y:o.targetTouches[0].pageY})}});for(var n=0;n<e.core.___slide.length;n++)/*jshint loopfunc: true */
utils.on(e.core.___slide[n],"touchmove.lg",function(s){if(utils.hasClass(e.core.outer,"lg-zoomed")){var n=e.core.___slide[e.core.index].querySelector(".lg-img-wrap"),a,u;s.preventDefault(),r=!0,o={x:s.targetTouches[0].pageX,y:s.targetTouches[0].pageY},
// reset opacity and transition duration
utils.addClass(e.core.outer,"lg-zoom-dragging"),u=l?-Math.abs(n.getAttribute("data-y"))+(o.y-t.y):-Math.abs(n.getAttribute("data-y")),a=i?-Math.abs(n.getAttribute("data-x"))+(o.x-t.x):-Math.abs(n.getAttribute("data-x")),(Math.abs(o.x-t.x)>15||Math.abs(o.y-t.y)>15)&&(e.core.s.useLeftForZoom?(n.style.left=a+"px",n.style.top=u+"px"):utils.setVendor(n,"Transform","translate3d("+a+"px, "+u+"px, 0)"))}});for(var a=0;a<e.core.___slide.length;a++)/*jshint loopfunc: true */
utils.on(e.core.___slide[a],"touchend.lg",function(){utils.hasClass(e.core.outer,"lg-zoomed")&&r&&(r=!1,utils.removeClass(e.core.outer,"lg-zoom-dragging"),e.touchendZoom(i,l))})},r.prototype.zoomDrag=function(){for(var e=this,t={},o={},r=!1,i=!1,l=!1,s=!1,n=0;n<e.core.___slide.length;n++)/*jshint loopfunc: true */
utils.on(e.core.___slide[n],"mousedown.lgzoom",function(o){
// execute only on .lg-object
var i=e.core.___slide[e.core.index].querySelector(".lg-object");s=i.offsetHeight*i.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientHeight,l=i.offsetWidth*i.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientWidth,utils.hasClass(e.core.outer,"lg-zoomed")&&utils.hasClass(o.target,"lg-object")&&(l||s)&&(o.preventDefault(),t={x:o.pageX,y:o.pageY},r=!0,
// ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723
e.core.outer.scrollLeft+=1,e.core.outer.scrollLeft-=1,utils.removeClass(e.core.outer,"lg-grab"),utils.addClass(e.core.outer,"lg-grabbing"))});utils.on(window,"mousemove.lgzoom",function(n){if(r){var a=e.core.___slide[e.core.index].querySelector(".lg-img-wrap"),u,c;i=!0,o={x:n.pageX,y:n.pageY},
// reset opacity and transition duration
utils.addClass(e.core.outer,"lg-zoom-dragging");var d=parseInt(a.getAttribute("data-y"),10)+(o.y-t.y);c=s?d:e.currentY;var g=parseInt(a.getAttribute("data-x"),10)+(o.x-t.x);u=l?g:e.currentX,e.core.s.useLeftForZoom?(a.style.left=u+"px",a.style.top=c+"px"):utils.setVendor(a,"Transform","translate3d("+u+"px, "+c+"px, 0)"),e.currentX=u,e.currentY=c}}),utils.on(window,"mouseup.lgzoom",function(n){r&&(r=!1,utils.removeClass(e.core.outer,"lg-zoom-dragging"),
// Fix for chrome mouse move on click
!i||t.x===o.x&&t.y===o.y||(o={x:n.pageX,y:n.pageY},e.touchendZoom(l,s)),i=!1),utils.removeClass(e.core.outer,"lg-grabbing"),utils.addClass(e.core.outer,"lg-grab")})},r.prototype.touchendZoom=function(e,t){var o=this,r=o.core.___slide[o.core.index].querySelector(".lg-img-wrap"),i=o.core.___slide[o.core.index].querySelector(".lg-object"),l=o.currentX,s=o.currentY,n=(i.offsetHeight*Math.abs(i.getAttribute("data-scale"))-o.core.outer.querySelector(".lg").clientHeight)/2,a=-n,u=(i.offsetWidth*Math.abs(i.getAttribute("data-scale"))-o.core.outer.querySelector(".lg").clientWidth)/2,c=-u;t&&(s<=a?s=a:s>=n&&(s=n),r.setAttribute("data-y",s)),e&&(l<=c?l=c:l>=u&&(l=u),r.setAttribute("data-x",l)),o.core.s.useLeftForZoom?(r.style.left=l+"px",r.style.top=s+"px"):utils.setVendor(r,"Transform","translate3d("+l+"px, "+s+"px, 0)")},r.prototype.destroy=function(){var e=this;
// Unbind all events added by lightGallery zoom plugin
utils.off(e.core.el,".lgzoom"),utils.off(window,".lgzoom");for(var t=0;t<e.core.___slide.length;t++)utils.off(e.core.___slide[t],".lgzoom");utils.off(e.core.el,".lgtmzoom"),e.resetZoom(),clearTimeout(e.zoomabletimeout),e.zoomabletimeout=!1},window.lgModules.zoom=r})},{}]},{},[1])(1)});